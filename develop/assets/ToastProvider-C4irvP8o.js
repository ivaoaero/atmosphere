import{j as n}from"./jsx-runtime-DiklIkkE.js";import{r}from"./index-DRjF_FHU.js";import{r as Ae}from"./index-DHHUZ-3A.js";import{c as P,u as H}from"./index-DNjz5F53.js";import{u as ce}from"./index-zZ8-XE7G.js";import{c as Fe}from"./index-2PLgWUiy.js";import{c as De}from"./index-DRtXj63t.js";import{B as Le,R as Me}from"./index-BCnQyZYr.js";import{P as Oe}from"./index-CmLS8G5o.js";import{P as ke}from"./index-CVyrcOig.js";import{P as A,d as Ve}from"./index-BHDKhPUC.js";import{u as Ke}from"./index-CB2Ck3t8.js";import{u as $e}from"./index-DSPJRkee.js";import{V as de}from"./index-exxhtp4L.js";import{c as F}from"./styles-CytzSlOG.js";import{X as He}from"./x-vRIRpOA3.js";import{c as We}from"./index-bksmFdny.js";var J="ToastProvider",[Q,Ue,Xe]=Fe("Toast"),[ue,_t]=De("Toast",[Xe]),[qe,W]=ue(J),le=e=>{const{__scopeToast:o,label:s="Notification",duration:t=5e3,swipeDirection:d="right",swipeThreshold:u=50,children:l}=e,[v,w]=r.useState(null),[a,b]=r.useState(0),E=r.useRef(!1),D=r.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${J}\`. Expected non-empty \`string\`.`),n.jsx(Q.Provider,{scope:o,children:n.jsx(qe,{scope:o,label:s,duration:t,swipeDirection:d,swipeThreshold:u,toastCount:a,viewport:v,onViewportChange:w,onToastAdd:r.useCallback(()=>b(R=>R+1),[]),onToastRemove:r.useCallback(()=>b(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:D,children:l})})};le.displayName=J;var pe="ToastViewport",Ye=["F8"],z="toast.viewportPause",B="toast.viewportResume",fe=r.forwardRef((e,o)=>{const{__scopeToast:s,hotkey:t=Ye,label:d="Notifications ({hotkey})",...u}=e,l=W(pe,s),v=Ue(s),w=r.useRef(null),a=r.useRef(null),b=r.useRef(null),E=r.useRef(null),D=ce(o,E,l.onViewportChange),R=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=l.toastCount>0;r.useEffect(()=>{const c=y=>{var m;t.length!==0&&t.every(x=>y[x]||y.code===x)&&((m=E.current)==null||m.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t]),r.useEffect(()=>{const c=w.current,y=E.current;if(N&&c&&y){const f=()=>{if(!l.isClosePausedRef.current){const h=new CustomEvent(z);y.dispatchEvent(h),l.isClosePausedRef.current=!0}},m=()=>{if(l.isClosePausedRef.current){const h=new CustomEvent(B);y.dispatchEvent(h),l.isClosePausedRef.current=!1}},x=h=>{!c.contains(h.relatedTarget)&&m()},T=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",x),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",T),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",x),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",T),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[N,l.isClosePausedRef]);const p=r.useCallback(({tabbingDirection:c})=>{const f=v().map(m=>{const x=m.ref.current,T=[x,...at(x)];return c==="forwards"?T:T.reverse()});return(c==="forwards"?f.reverse():f).flat()},[v]);return r.useEffect(()=>{const c=E.current;if(c){const y=f=>{var T,h,_;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const L=document.activeElement,S=f.shiftKey;if(f.target===c&&S){(T=a.current)==null||T.focus();return}const I=p({tabbingDirection:S?"backwards":"forwards"}),k=I.findIndex(i=>i===L);Y(I.slice(k+1))?f.preventDefault():S?(h=a.current)==null||h.focus():(_=b.current)==null||_.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[v,p]),n.jsxs(Le,{ref:w,role:"region","aria-label":d.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&n.jsx(G,{ref:a,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"forwards"});Y(c)}}),n.jsx(Q.Slot,{scope:s,children:n.jsx(A.ol,{tabIndex:-1,...u,ref:D})}),N&&n.jsx(G,{ref:b,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"backwards"});Y(c)}})]})});fe.displayName=pe;var me="ToastFocusProxy",G=r.forwardRef((e,o)=>{const{__scopeToast:s,onFocusFromOutsideViewport:t,...d}=e,u=W(me,s);return n.jsx(de,{"aria-hidden":!0,tabIndex:0,...d,ref:o,style:{position:"fixed"},onFocus:l=>{var a;const v=l.relatedTarget;!((a=u.viewport)!=null&&a.contains(v))&&t()}})});G.displayName=me;var U="Toast",ze="toast.swipeStart",Be="toast.swipeMove",Ge="toast.swipeCancel",Je="toast.swipeEnd",ve=r.forwardRef((e,o)=>{const{forceMount:s,open:t,defaultOpen:d,onOpenChange:u,...l}=e,[v=!0,w]=Ke({prop:t,defaultProp:d,onChange:u});return n.jsx(ke,{present:s||v,children:n.jsx(et,{open:v,...l,ref:o,onClose:()=>w(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:P(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,a=>{const{x:b,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:P(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,a=>{const{x:b,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),w(!1)})})})});ve.displayName=U;var[Qe,Ze]=ue(U,{onClose(){}}),et=r.forwardRef((e,o)=>{const{__scopeToast:s,type:t="foreground",duration:d,open:u,onClose:l,onEscapeKeyDown:v,onPause:w,onResume:a,onSwipeStart:b,onSwipeMove:E,onSwipeCancel:D,onSwipeEnd:R,...N}=e,p=W(U,s),[c,y]=r.useState(null),f=ce(o,i=>y(i)),m=r.useRef(null),x=r.useRef(null),T=d||p.duration,h=r.useRef(0),_=r.useRef(T),L=r.useRef(0),{onToastAdd:S,onToastRemove:X}=p,j=H(()=>{var g;(c==null?void 0:c.contains(document.activeElement))&&((g=p.viewport)==null||g.focus()),l()}),I=r.useCallback(i=>{!i||i===1/0||(window.clearTimeout(L.current),h.current=new Date().getTime(),L.current=window.setTimeout(j,i))},[j]);r.useEffect(()=>{const i=p.viewport;if(i){const g=()=>{I(_.current),a==null||a()},C=()=>{const M=new Date().getTime()-h.current;_.current=_.current-M,window.clearTimeout(L.current),w==null||w()};return i.addEventListener(z,C),i.addEventListener(B,g),()=>{i.removeEventListener(z,C),i.removeEventListener(B,g)}}},[p.viewport,T,w,a,I]),r.useEffect(()=>{u&&!p.isClosePausedRef.current&&I(T)},[u,T,p.isClosePausedRef,I]),r.useEffect(()=>(S(),()=>X()),[S,X]);const k=r.useMemo(()=>c?ge(c):null,[c]);return p.viewport?n.jsxs(n.Fragment,{children:[k&&n.jsx(tt,{__scopeToast:s,role:"status","aria-live":t==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),n.jsx(Qe,{scope:s,onClose:j,children:Ae.createPortal(n.jsx(Q.ItemSlot,{scope:s,children:n.jsx(Me,{asChild:!0,onEscapeKeyDown:P(v,()=>{p.isFocusedToastEscapeKeyDownRef.current||j(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(A.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":p.swipeDirection,...N,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,i=>{i.key==="Escape"&&(v==null||v(i.nativeEvent),i.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:P(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:P(e.onPointerMove,i=>{if(!m.current)return;const g=i.clientX-m.current.x,C=i.clientY-m.current.y,M=!!x.current,O=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Se=O?V(0,g):0,je=O?0:V(0,C),q=i.pointerType==="touch"?10:2,K={x:Se,y:je},ae={originalEvent:i,delta:K};M?(x.current=K,$(Be,E,ae,{discrete:!1})):ie(K,p.swipeDirection,q)?(x.current=K,$(ze,b,ae,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(g)>q||Math.abs(C)>q)&&(m.current=null)}),onPointerUp:P(e.onPointerUp,i=>{const g=x.current,C=i.target;if(C.hasPointerCapture(i.pointerId)&&C.releasePointerCapture(i.pointerId),x.current=null,m.current=null,g){const M=i.currentTarget,O={originalEvent:i,delta:g};ie(g,p.swipeDirection,p.swipeThreshold)?$(Je,R,O,{discrete:!0}):$(Ge,D,O,{discrete:!0}),M.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),tt=e=>{const{__scopeToast:o,children:s,...t}=e,d=W(U,o),[u,l]=r.useState(!1),[v,w]=r.useState(!1);return rt(()=>l(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(a)},[]),v?null:n.jsx(Oe,{asChild:!0,children:n.jsx(de,{...t,children:u&&n.jsxs(n.Fragment,{children:[d.label," ",s]})})})},ot="ToastTitle",we=r.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return n.jsx(A.div,{...t,ref:o})});we.displayName=ot;var st="ToastDescription",xe=r.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e;return n.jsx(A.div,{...t,ref:o})});xe.displayName=st;var Te="ToastAction",Ee=r.forwardRef((e,o)=>{const{altText:s,...t}=e;return s.trim()?n.jsx(he,{altText:s,asChild:!0,children:n.jsx(Z,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${Te}\`. Expected non-empty \`string\`.`),null)});Ee.displayName=Te;var ye="ToastClose",Z=r.forwardRef((e,o)=>{const{__scopeToast:s,...t}=e,d=Ze(ye,s);return n.jsx(he,{asChild:!0,children:n.jsx(A.button,{type:"button",...t,ref:o,onClick:P(e.onClick,d.onClose)})})});Z.displayName=ye;var he=r.forwardRef((e,o)=>{const{__scopeToast:s,altText:t,...d}=e;return n.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...d,ref:o})});function ge(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),nt(t)){const d=t.ariaHidden||t.hidden||t.style.display==="none",u=t.dataset.radixToastAnnounceExclude==="";if(!d)if(u){const l=t.dataset.radixToastAnnounceAlt;l&&o.push(l)}else o.push(...ge(t))}}),o}function $(e,o,s,{discrete:t}){const d=s.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});o&&d.addEventListener(e,o,{once:!0}),t?Ve(d,u):d.dispatchEvent(u)}var ie=(e,o,s=0)=>{const t=Math.abs(e.x),d=Math.abs(e.y),u=t>d;return o==="left"||o==="right"?u&&t>s:!u&&d>s};function rt(e=()=>{}){const o=H(e);$e(()=>{let s=0,t=0;return s=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(t)}},[o])}function nt(e){return e.nodeType===e.ELEMENT_NODE}function at(e){const o=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const d=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||d?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)o.push(s.currentNode);return o}function Y(e){const o=document.activeElement;return e.some(s=>s===o?!0:(s.focus(),document.activeElement!==o))}var it=le,be=fe,Pe=ve,Ce=we,Re=xe,Ne=Ee,_e=Z;const ee=r.forwardRef(({className:e,...o},s)=>n.jsx(be,{className:F("fixed top-0 z-[100] flex max-h-screen w-full list-none flex-col-reverse gap-3 p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...o,ref:s}));ee.displayName=be.displayName;ee.__docgenInfo={description:"",methods:[]};const te=r.forwardRef(({asChild:e=!1,className:o,...s},t)=>n.jsx(Ne,{asChild:e,...s,className:F("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-fuselage-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-fuselage-100 focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",o),ref:t}));te.displayName=Ne.displayName;te.__docgenInfo={description:"",methods:[],props:{asChild:{defaultValue:{value:"false",computed:!1},required:!1}}};const oe=r.forwardRef(({"aria-label":e="Close",className:o,children:s,...t},d)=>n.jsx(_e,{...t,"aria-label":e,className:F("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-semantic-red-300 group-[.destructive]:hover:text-semantic-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",o),ref:d,children:s||n.jsx("span",{"aria-hidden":!0,children:n.jsx(He,{className:"size-4"})})}));oe.displayName=_e.displayName;oe.__docgenInfo={description:"",methods:[],props:{"aria-label":{defaultValue:{value:"'Close'",computed:!1},required:!1}}};const se=r.forwardRef(({className:e,...o},s)=>n.jsx(Re,{className:F("text-sm opacity-90",e),...o,ref:s}));se.displayName=Re.displayName;se.__docgenInfo={description:"",methods:[]};const ct=We("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),re=r.forwardRef(({className:e,variant:o,...s},t)=>n.jsx(Pe,{className:F(ct({variant:o}),e),...s,ref:t}));re.displayName=Pe.displayName;re.__docgenInfo={description:"",methods:[]};const ne=r.forwardRef(({className:e,...o},s)=>n.jsx(Ce,{className:F("text-sm font-semibold [&+div]:text-xs",e),...o,ref:s}));ne.displayName=Ce.displayName;ne.__docgenInfo={description:"",methods:[]};const Ie=({title:e,description:o,duration:s=5e3,toastProps:t,actionAltText:d,action:u})=>n.jsxs(re,{duration:s,...t,children:[n.jsxs("div",{className:"grid gap-1",children:[n.jsx(ne,{children:e}),o&&n.jsx(se,{children:o})]}),u&&n.jsx(te,{altText:d,children:u}),n.jsx(oe,{})]});Ie.__docgenInfo={description:"",methods:[],displayName:"Toast",props:{duration:{defaultValue:{value:"5000",computed:!1},required:!1}}};const dt=r.createContext(()=>{throw new Error("ToastContext not initialized. Use ToastProvider to initialize.")}),ut=({children:e,swipeDirection:o="right"})=>{const[s,t]=r.useState([]),d=r.useCallback(u=>{t(l=>[...l,u])},[]);return n.jsx(dt.Provider,{value:d,children:n.jsxs(it,{swipeDirection:o,children:[e,s.map((u,l)=>r.createElement(Ie,{...u,key:l})),n.jsx(ee,{})]})})};ut.__docgenInfo={description:"",methods:[],displayName:"ToastProvider",props:{swipeDirection:{defaultValue:{value:"'right'",computed:!1},required:!1}}};export{dt as T,Ie as a,ut as b};
